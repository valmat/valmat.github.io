---
title: "Восстановление удалённых и повреждённых данных в Linux"
date: 2010-10-18T18:04:00Z
draft: false
tags: ["archive"]
# filename: "linux"
# catigories: ["hardware", "linux"]
---

Когда-то давно, лет десять назад, случалось мне отформатировать раздел жёсткого диска под Windows. На диске была важная информация, поэтому встала задача данные восстановить. Помню, путём продолжительного гугления были найдены несколько замечательных программ и кряков к ним. И данные были, хоть и частично, но восстановлены. Назывались эти программы, вроде бы, Easy Recovery, Recover4All и какая-то ещё.

И вот на днях мне принесли жёсткий диск с разделом, на который была установлена новая Windows поверх старой, и вся нужная владельцу информация была благополучно удалена.

Поскольку сейчас Windows у меня нет, была найдена чудесная линуксовая утилита под названием **foremost**.

Вот, всё-таки, за что я люблю Linux — это за лаконичность и изящность решений (ну и за логичность архитектуры, конечно).

Для восстановления данных потребовалась всего одна команда в терминале:

```bash
foremost -t jpg -o ~/bak -i /dev/sdb1
```

Теперь по порядку, что к чему:

- `#` — запускаем от root, чтобы не было проблем с чтением.
- `-t` — тип восстанавливаемых файлов. Можно написать `-t all`, чтобы восстановить файлы всех типов, либо одно из значений из списка: avi, bmp, dll, doc, exe, gif, htm, jar, jpg, mbd, mov, mpg, pdf, png, ppt, rar, rif, sdw, sx, sxc, sxi, sxw, vis, wav, wmv, xls, zip.
- `-o ~/bak` — куда складывать результат.
- `-i /dev/sdb1` — здесь указываем раздел, который нужно сканировать. Поддерживаются разные файловые системы. Тот диск, который приносили мне, был с NTFS.

Если запустить с опцией `-t all`, то будут созданы разные каталоги под каждый тип файлов, что само по себе очень удобно.

Я особо не вглядывался, что он там восстановил, но при беглом обзоре можно было заключить, что в своей массе почти все файлы были восстановлены корректно. Было несколько битых фотографий, но так как раздел был не пустой, его не просто отформатировали, но и успели записать на него новые данные.

**P.S.** Foremost есть в репозитории Ubuntu.  
Т.е. установить можно так:

```bash
sudo apt-get install foremost
```


